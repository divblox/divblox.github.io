(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{159:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return d}));var o=n(2),a=n(9),r=(n(0),n(172)),i=n(173),l=(n(179),n(180),n(175)),c={id:"common-examples-hello-world-example",title:"Hello World Example"},s={id:"common-examples-hello-world-example",isDocsHomePage:!1,title:"Hello World Example",description:"checkUrlScroll();",source:"@site/docs/common-examples-hello-world-example.mdx",permalink:"/docs/common-examples-hello-world-example",sidebar:"someSidebar",previous:{title:"Native Support",permalink:"/docs/the-basics-native-support"},next:{title:"Media Library and Image Viewer",permalink:"/docs/common-examples-media-library-and-image-viewer"}};Object(l.a)(),Object(l.b)();var u=[{value:"Step 1 - A New Component",id:"step-1---a-new-component",children:[]},{value:"Step 2 - Adding Content",id:"step-2---adding-content",children:[]},{value:"Step 3 - Component Customization",id:"step-3---component-customization",children:[]},{value:"Step 4 - Processing Input",id:"step-4---processing-input",children:[]},{value:"Step 5 - Finishing Up",id:"step-5---finishing-up",children:[]}],p={rightToc:u};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,'Now that we have Divblox configured and we understand the basic concepts, let\'s create a single-page "Hello World" app.'),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"In this example we will create a simple single-page app that will display the following:")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"A logo for our app, using a separate image viewer component"),Object(r.b)("li",{parentName:"ul"},"An input box that we will use to send some text to the server"),Object(r.b)("li",{parentName:"ul"},"A submit button that will trigger the operation to send our input to the server and display a result")),Object(r.b)("h2",{id:"step-1---a-new-component"},"Step 1 - A New Component"),Object(r.b)("p",null,"Let's create a new component that will serve as our app's page."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Login to the Divblox setup page at /divblox in your project's folder on localhost.\nFor example: ",Object(r.b)("inlineCode",{parentName:"li"},"http://localhost/my-app/divblox")," or ",Object(r.b)("inlineCode",{parentName:"li"},"http://localhost/divblox")," (if you project is in the webserver's root path)"),Object(r.b)("li",{parentName:"ul"},'Open the Component Builder and create a new custom component called "hello world". This component should be placed in the grouping "pages" in order to be used as a page.')),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world1.mp4"),type:"video/mp4"})),Object(r.b)("h2",{id:"step-2---adding-content"},"Step 2 - Adding Content"),Object(r.b)("p",null,"Let's open the newly created component to work on it using the Component Builder"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'You can click on the link provided when the component is created or you can find your component by searching "hello world" on the default Component Builder page'),Object(r.b)("li",{parentName:"ul"},"Add a container to the page and make it full width"),Object(r.b)("li",{parentName:"ul"},"Add a row with 1 column to the container. This column will serve as the wrapper for our content"),Object(r.b)("li",{parentName:"ul"},'Add the "imageviewer" component as a sub component by clicking "+ Component" and selecting it from the list of available components'),Object(r.b)("li",{parentName:"ul"},'Add a basic input component by clicking "+ Component" and selecting "Basic Component -> Input Types -> Form Control Email"'),Object(r.b)("li",{parentName:"ul"},'Add a basic button component by clicking "+ Component" and selecting "Basic Component -> Buttons -> Simple Primary Button"')),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world2.mp4"),type:"video/mp4"})),Object(r.b)("h2",{id:"step-3---component-customization"},"Step 3 - Component Customization"),Object(r.b)("p",null,"Let's do some basic customization on our image to display our logo"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The imageviewer component has a function called ",Object(r.b)("inlineCode",{parentName:"li"},"updateImage()")," which we can use to display our logo. Let's update our hello_world component javascript to do this."),Object(r.b)("li",{parentName:"ul"},"Add the following code to the bottom of the hello_world component class to override the subComponentLoadedCallBack function to update the image:")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),"subComponentLoadedCallBack(component) {\n    super.subComponentLoadedCallBack(component);\n    if (component.getComponentName() === 'ungrouped_imageviewer') {\n        component.updateImage('https://divblox.github.io/_media/divblox-logo-1.png');\n    }\n}\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Our hello_world component javascript should now look like this:")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'if (typeof component_classes["pages_hello_world"] === "undefined") {\n    class pages_hello_world extends DivbloxDomBaseComponent {\n        constructor(inputs, supports_native, requires_native) {\n            super(inputs, supports_native, requires_native);\n            // Sub component config start\n            this.sub_component_definitions = [\n                {\n                    component_load_path: "ungrouped/imageviewer",\n                    parent_element: "qJTep",\n                    arguments: {},\n                },\n            ];\n            // Sub component config end\n        }\n        initCustomFunctions() {\n            // n3CEV_button Related functionality\n            ///////////////////////////////////////////////////////////////////////\n            getComponentElementById(this, "n3CEV_btn").on(\n                "click",\n                function () {\n                    // Add the trigger element to the loading element array.\n                    // This shows a loading animation on the trigger\n                    // element while it waits for a response or function return\n                    let element_id = addTriggerElementToLoadingElementArray(\n                        $(this).attr("id"),\n                        "Nice Loading text"\n                    );\n                    // Example: once your function has executed,\n                    //  call removeTriggerElementFromLoadingElementArray to remove\n                    // loading animation\n                    setTimeout(function () {\n                        removeTriggerElementFromLoadingElementArray(element_id);\n                    }, 3000);\n                }.bind(this)\n            );\n            ///////////////////////////////////////////////////////////////////////////\n        }\n        subComponentLoadedCallBack(component) {\n            super.subComponentLoadedCallBack(component);\n            if (component.getComponentName() === "ungrouped_imageviewer") {\n                component.updateImage(\n                    "https://divblox.github.io/_media/divblox-logo-1.png"\n                );\n            }\n        }\n    }\n    component_classes["pages_hello_world"] = pages_hello_world;\n}\n')),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world3.mp4"),type:"video/mp4"})),Object(r.b)("h2",{id:"step-4---processing-input"},"Step 4 - Processing Input"),Object(r.b)("p",null,"Let's now send the input to the server and get a response"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"We will adapt the functionality that is currently handling the button click by\nusing Divblox's built in request function to send the data to the server and handle the response"),Object(r.b)("li",{parentName:"ul"},"The code below handles the click action for our button.\nRight now it simply mimicks that something is happening when you click the button")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'// n3CEV_button Related functionality\n///////////////////////////////////////////////////////////////////////////\ngetComponentElementById(this, "n3CEV_btn").on(\n    "click",\n    function () {\n        // Add the trigger element to the loading element array.\n        // This shows a loading animation on the trigger\n        // element while it waits for a response or function return\n        let element_id = addTriggerElementToLoadingElementArray(\n            $(this).attr("id"),\n            "Nice Loading text"\n        );\n        // Example: once your function has executed, call\n        // removeTriggerElementFromLoadingElementArray to remove\n        // loading animation\n        setTimeout(function () {\n            removeTriggerElementFromLoadingElementArray(element_id);\n        }, 3000);\n    }.bind(this)\n);\n////////////////////////////////////////////////////////////////////////////\n')),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Let's change the click handler function to achieve our goal:")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'// n3CEV_button Related functionality\n///////////////////////////////////////////////////////////////////////////\ngetComponentElementById(this, "n3CEV_btn").on(\n    "click",\n    function () {\n        dxRequestInternal(\n            // Divblox\'s wrapper function for doing a POST request to the server\n            // Get\'s the path on the server where this component\'s .php file resides\n            getComponentControllerPath(this),\n            {\n                f: "checkEmailAddress", // Indicates the function that .php file should execute\n                email_address: getComponentElementById(\n                    this,\n                    "baNsD_FormControlInput"\n                ).val(), // We are also\n                // sending the email address as input to the .php file.\n                // NB! CHECK YOUR ELEMENT ID. Divblox AUTO-GENERATES\n                // THIS ID, MEANING YOURS MIGHT NOT BE "baNsD_FormControlInput"\n            },\n            function (data_obj) {\n                // The function that is called when the server provides a "Success" response\n                showAlert(\n                    "Success! The server responded with: " + data_obj.Message,\n                    "success",\n                    "OK",\n                    false\n                );\n            }.bind(this),\n            function (data_obj) {\n                // The function that is called when the server\n                // does NOT provide a "Success" response\n                showAlert(\n                    "Oh no! The server responded with: " + data_obj.Message,\n                    "error",\n                    "OK",\n                    false\n                );\n            }.bind(this)\n        );\n    }.bind(this)\n);\n////////////////////////////////////////////////////////////////////////////////\n')),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world4.mp4"),type:"video/mp4"})),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"We are currently not getting a successful response from the server because we still need to implement a function on the server to handle our request.\nWe can do this by adding the following as a function to our component's .php file")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-php"}),'public function checkEmailAddress() {\n    $EmailAddressStr = $this->getInputValue(\'email_address\');\n    if (is_null($EmailAddressStr) || (strlen($EmailAddressStr) < 2)) {\n        $this->setResult(false);\n        $this->setReturnValue("Message","No email address provided");\n        $this->presentOutput();\n    }\n    $this->setResult(true);\n    $this->setReturnValue("Message","You provided the email: $EmailAddressStr");\n    $this->presentOutput();\n}\n')),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world5.mp4"),type:"video/mp4"})),Object(r.b)("h2",{id:"step-5---finishing-up"},"Step 5 - Finishing Up"),Object(r.b)("p",null,"Divblox will show a landing page for the anonymous user by default. If we want to rather load our newly created page as\nthe default we need to tell Divblox this by updating our project.js file:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'// Update the user_role_landing_pages array to force the anonymous user to load our new page:\nlet user_role_landing_pages = {\n    anonymous: "hello_world",\n    Administator: "system_account_management",\n    //"User":"the_desired_landing_page"\n};\n')),Object(r.b)("p",null,"And that's it! We just created a basic app that touches on the core Divblox concepts. We can now view our app at:\n",Object(r.b)("inlineCode",{parentName:"p"},"http://localhost/my-app/")," or ",Object(r.b)("inlineCode",{parentName:"p"},"http://localhost/")," (if you project is in the webserver's root path)"),Object(r.b)("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,poster:Object(i.a)("img/video-placeholder.png"),preload:"true",controls:!0},Object(r.b)("source",{src:Object(i.a)("_hello-world-videos/hello-world6.mp4"),type:"video/mp4"})))}d.isMDXComponent=!0},171:function(e,t,n){"use strict";var o=n(0),a=n(52);t.a=function(){return Object(o.useContext)(a.a)}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var o=n(0),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),u=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,b=p["".concat(i,".").concat(m)]||p[m]||d[m]||r;return n?a.a.createElement(b,l(l({ref:t},s),{},{components:n})):a.a.createElement(b,l({ref:t},s))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(79);var o=n(171),a=n(176);function r(e,t){var n=void 0===t?{}:t,r=n.forcePrependBaseUrl,i=void 0!==r&&r,l=n.absolute,c=void 0!==l&&l,s=Object(o.a)().siteConfig,u=(s=void 0===s?{}:s).baseUrl,p=void 0===u?"/":u,d=s.url;if(!e)return e;if(i)return p+e;if(!Object(a.a)(e))return e;var m=p+e.replace(/^\//,"");return c?d+m:m}},174:function(e,t,n){"use strict";function o(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(a&&(a+=" "),a+=t);return a}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));n(78),n(0);var o=function(){setTimeout((function(){if("undefined"!=typeof window){var e=window.location.href.split("#");if(e.length>1){var t=e[1];document.getElementById(t).scrollIntoView()}}}),500)},a=function(){if("undefined"!=typeof window){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.src="https://embed.tawk.to/5e2aa42bdaaca76c6fcfa354/default",e.charset="UTF-8",e.setAttribute("crossorigin","*"),t.parentNode.insertBefore(e,t)}}},176:function(e,t,n){"use strict";function o(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}n.d(t,"a",(function(){return o}))},177:function(e,t,n){"use strict";var o=n(0),a=Object(o.createContext)({tabGroupChoices:{},setTabGroupChoices:function(){},isAnnouncementBarClosed:!1,closeAnnouncementBar:function(){}});t.a=a},178:function(e,t,n){"use strict";var o=n(0),a=n(177);t.a=function(){return Object(o.useContext)(a.a)}},179:function(e,t,n){"use strict";n(24),n(19),n(20);var o=n(0),a=n.n(o),r=n(178),i=n(174),l=n(130),c=n.n(l),s=37,u=39;t.a=function(e){var t=e.block,n=e.children,l=e.defaultValue,p=e.values,d=e.groupId,m=Object(r.a)(),b=m.tabGroupChoices,h=m.setTabGroupChoices,g=Object(o.useState)(l),f=g[0],v=g[1];if(null!=d){var O=b[d];null!=O&&O!==f&&p.some((function(e){return e.value===O}))&&v(O)}var j=function(e){v(e),null!=d&&h(d,e)},w=[];return a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},p.map((function(e){var t=e.value,n=e.label;return a.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":f===t,className:Object(i.a)("tabs__item",c.a.tabItem,{"tabs__item--active":f===t}),key:t,ref:function(e){return w.push(e)},onKeyDown:function(e){return function(e,t,n){switch(n.keyCode){case u:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(w,e.target,e)},onFocus:function(){return j(t)},onClick:function(){return j(t)}},n)}))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},o.Children.toArray(n).filter((function(e){return e.props.value===f}))[0]))}},180:function(e,t,n){"use strict";var o=n(0),a=n.n(o);t.a=function(e){return a.a.createElement("div",null,e.children)}}}]);